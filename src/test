// ✅ MOBILE: anchor marker to lower part of viewport
if (isMobile) {
  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
      const projection = overlay.getProjection();
      if (!projection || !map) return;

      const pt = projection.fromLatLngToDivPixel(
        new google.maps.LatLng(position)
      );
      if (!pt) return;

      const mapDiv = map.getDiv() as HTMLElement;
      const rect = mapDiv.getBoundingClientRect();

      const targetX = rect.width * 0.5;
      const targetY = rect.height * 0.72; // tweak 0.70–0.78

      const dx = pt.x - targetX;
      const dy = pt.y - targetY;

      map.panBy(dx, dy);
    });
  });
}
