useEffect(() => {
  const map = mapRef.current;
  if (!map) return;
  if (!window.google?.maps?.ControlPosition) return;

  const CP = window.google.maps.ControlPosition;

  const toPos = (p?: ControlPositionName) => (p ? CP[p] : undefined);

  map.setOptions({
    // enable/disable
    cameraControl: controls?.cameraControl?.enabled,
    mapTypeControl: controls?.mapTypeControl?.enabled,
    scaleControl: controls?.scaleControl?.enabled,
    zoomControl: controls?.zoomControl?.enabled,
    fullscreenControl: controls?.fullscreenControl?.enabled,

    // âœ… options objects (not raw position)
    cameraControlOptions: controls?.cameraControl?.position
      ? { position: toPos(controls.cameraControl.position) }
      : undefined,

    mapTypeControlOptions: controls?.mapTypeControl?.position
      ? { position: toPos(controls.mapTypeControl.position) }
      : undefined,

    scaleControlOptions: controls?.scaleControl?.position
      ? { position: toPos(controls.scaleControl.position) }
      : undefined,

    zoomControlOptions: controls?.zoomControl?.position
      ? { position: toPos(controls.zoomControl.position) }
      : undefined,

    fullscreenControlOptions: controls?.fullscreenControl?.position
      ? { position: toPos(controls.fullscreenControl.position) }
      : undefined,
  });
}, [
  controls?.cameraControl?.enabled,
  controls?.cameraControl?.position,
  controls?.mapTypeControl?.enabled,
  controls?.mapTypeControl?.position,
  controls?.scaleControl?.enabled,
  controls?.scaleControl?.position,
  controls?.zoomControl?.enabled,
  controls?.zoomControl?.position,
  controls?.fullscreenControl?.enabled,
  controls?.fullscreenControl?.position,
]);
